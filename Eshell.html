<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Eshell</title>
<!-- 2017-10-02 Mon 20:11 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="description" content="Emacs programming and customization."
 />
<meta  name="keywords" content="emacs, eshell, shell, repl, os, windows, linux, platform" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link href="theme/style2.css" rel="stylesheet">

<script type="text/javascript" src="theme/org-info.js">
/**
 *
 * @source: theme/org-info.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in theme/org-info.js.
 *
 * Copyright (C) 2012-2013 Free Software Foundation, Inc.
 *
 *
 * The JavaScript code in this tag is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in theme/org-info.js.
 *
 */
</script>

<script type="text/javascript">

/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/

<!--/*--><![CDATA[/*><!--*/
org_html_manager.set("TOC_DEPTH", "3");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "showall");
org_html_manager.setup();  // activate after the parameters are set
/*]]>*///-->
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Eshell</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Eshell</a>
<ul>
<li><a href="#sec-1-1">1.1. Overview</a></li>
<li><a href="#sec-1-2">1.2. See also</a></li>
<li><a href="#sec-1-3">1.3. Start Eshell Directly from command line</a></li>
<li><a href="#sec-1-4">1.4. Useful elisp commands inside eshell</a></li>
<li><a href="#sec-1-5">1.5. Clear eshell</a></li>
<li><a href="#sec-1-6">1.6. Set eshell prompt</a>
<ul>
<li><a href="#sec-1-6-1">1.6.1. Simple prompt</a></li>
<li><a href="#sec-1-6-2">1.6.2. Colorized prompt</a></li>
</ul>
</li>
<li><a href="#sec-1-7">1.7. Change Eshell current directory</a></li>
<li><a href="#sec-1-8">1.8. Change Eshell current directory to current buffer</a></li>
<li><a href="#sec-1-9">1.9. Open eshell in another window</a></li>
<li><a href="#sec-1-10">1.10. Open eshell in another frame</a></li>
<li><a href="#sec-1-11">1.11. Open eshell file names from ls output with Return key</a></li>
<li><a href="#sec-1-12">1.12. Functions to copy eshell data to clipboard</a>
<ul>
<li><a href="#sec-1-12-1">1.12.1. Copy current directory</a></li>
</ul>
</li>
<li><a href="#sec-1-13">1.13. Creating Eshell aliases programatically</a></li>
</ul>
</li>
</ul>
</div>
</div>
<a href="index.html">Top</a>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Eshell</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Overview</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Eshell is a shell implemented in Emacs with many commands implemented
in Elisp which makes it cross platform and highly integrated to
Emacs. The commands ls, pwd, cd and etc. works in the same way for
Linux, Windows or OSX. In Windows OS it is a good alternative to
cmd.exe.
</p>

<p>
Command to clear Eshell. It can be invoked with $ clear in eshell.
</p>

<p>
Features:
</p>

<ul class="org-ul">
<li>Shell implemented in Emacs Lisp
</li>
<li>Integrated to Emacs
</li>
<li>Eshell can run elisp functions and can be extended in Elisp.
</li>
<li>It is Multiplatform, works on Linux, OSX and Windows.
</li>
</ul>



<p>
Example:
</p>


<div class="figure">
<p><img src="images/eshell-example1.png" alt="eshell-example1.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> See also</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li><a href="https://www.masteringemacs.org/article/complete-guide-mastering-eshell">Mastering Eshell</a> / Mastering Emacs
</li>
</ul>


<ul class="org-ul">
<li><a href="http://www.blogbyben.com/2013/08/finally-wrapping-my-head-around-eshell.html">Finally wrapping my head around eshell (the emacs shell)</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="https://www.masteringemacs.org/article/complete-guide-mastering-eshell">Mastering Eshell - Mastering Emacs</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eshell.html">Eshell: The Emacs Shell</a>
</li>

<li><a href="http://www.howardism.org/Technical/Emacs/eshell-fun.html">Eschewing Zshell for Emacs Shell</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://www.blogbyben.com/2013/08/finally-wrapping-my-head-around-eshell.html">Ben's Journal: Finally wrapping my head around eshell (the emacs shell)</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://mjwall.com/blog/2013/10/04/how-i-use-emacs/">How I use Emacs - mjwall.com</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://blog.gnumonk.com/2012/07/effective-emacs-part1.html">We Live By Code: Effective emacs - Part:1</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="https://github.com/howardabrams/dot-files/blob/master/emacs-eshell.org">dot-files/emacs-eshell.org at master · howardabrams/dot-files · GitHub</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://www.emacswiki.org/emacs/EshellAndEmacsServer">EmacsWiki: Eshell And Emacs Server</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://www.emacswiki.org/emacs/ShellMode">EmacsWiki: Shell Mode</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://www.smashcompany.com/technology/using-emacs-eshell-as-the-ultimate-shell">Using Emacs Eshell as the ultimate shell | Smash Company</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="https://tsdh.wordpress.com/2013/05/31/eshell-completion-for-git-bzr-and-hg/">Eshell completion for git, bzr, and hg | Tassilo's Blog</a>
</li>
</ul>
</div>
</div>



<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Start Eshell Directly from command line</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Start eshell directly in a new Emacs sessions in the terminal wihout
load init.el.
</p>

<div class="org-src-container">

<pre class="src src-sh">$ emacs -Q -q -nw --eval <span class="org-string">'(eshell)'</span>
</pre>
</div>

<p>
Or 
</p>

<div class="org-src-container">

<pre class="src src-sh">$ emacs -Q -q -nw -f eshell
</pre>
</div>


<div class="figure">
<p><img src="images/eshell_directly_in_terminal.png" alt="eshell_directly_in_terminal.png" />
</p>
</div>


<p>
Start eshell directly in a new Emacs Window 
</p>

<div class="org-src-container">

<pre class="src src-sh">emacs -q -f eshell <span class="org-comment-delimiter"># </span><span class="org-comment">Don't load init file.</span>
</pre>
</div>

<p>
Or 
</p>

<div class="org-src-container">

<pre class="src src-sh">emacs -q -f eshell <span class="org-comment-delimiter"># </span><span class="org-comment">Load init file</span>
</pre>
</div>


<div class="figure">
<p><img src="images/eshell_directly_gui.png" alt="eshell_directly_gui.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Useful elisp commands inside eshell</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Eshell can run Elisp command - M-x &lt;command&gt; like ordinary Unix shell
apps. 
</p>

<p>
Open a file in the current window
</p>

<ul class="org-ul">
<li><code>$ find-file /etc/hosts.conf</code> 
</li>
</ul>

<p>
Open a file in other window 
</p>

<ul class="org-ul">
<li><code>$ find-file-other-window /etc/host.conf</code>
</li>
</ul>

<p>
Open a file in other frame 
</p>

<ul class="org-ul">
<li><code>$ find-file-other-frame /etc/host.conf</code>
</li>
</ul>

<p>
Browser a directory in current window 
</p>

<ul class="org-ul">
<li><code>$ dired /var/log</code> 
</li>
</ul>

<p>
Browser a directory in another window 
</p>

<ul class="org-ul">
<li><code>$ dired-other-window /var/log</code>
</li>
</ul>

<p>
Browser a directory in another frame 
</p>

<ul class="org-ul">
<li><code>$ dired-other-frame /var/log</code>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Clear eshell</h3>
<div class="outline-text-3" id="text-1-5">
<div class="org-src-container">

<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eshell/clear</span> ()
  <span class="org-doc">"clear the eshell buffer."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((inhibit-read-only t))
    (erase-buffer)))
</pre>
</div>

<p>
In eshell:
</p>

<div class="org-src-container">

<pre class="src src-sh">~ $ which eshell
eshell is an interactive compiled Lisp <span class="org-keyword">function in</span> <span class="org-sh-quoted-exec">`eshell.el'</span>
<span class="org-sh-quoted-exec">~ $</span>
</pre>
</div>


<p>
Before the command clear:
</p>


<div class="figure">
<p><img src="images/eshell_clear1.png" alt="eshell_clear1.png" /> 
</p>
</div>

<p>
After the command clear:
</p>


<div class="figure">
<p><img src="images/eshell_clear2.png" alt="eshell_clear2.png" /> 
</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> Set eshell prompt</h3>
<div class="outline-text-3" id="text-1-6">
</div><div id="outline-container-sec-1-6-1" class="outline-4">
<h4 id="sec-1-6-1"><span class="section-number-4">1.6.1</span> Simple prompt</h4>
<div class="outline-text-4" id="text-1-6-1">
<div class="org-src-container">

<pre class="src src-elisp">(<span class="org-keyword">setq</span> eshell-prompt-function (<span class="org-keyword">lambda</span> () <span class="org-doc">"eshell &gt; "</span>))
</pre>
</div>


<div class="figure">
<p><img src="images/eshell_prompt_setting1.png" alt="eshell_prompt_setting1.png" />
</p>
</div>

<p>
<b>Prompt with current directory</b>
</p>
</div>
</div>

<div id="outline-container-sec-1-6-2" class="outline-4">
<h4 id="sec-1-6-2"><span class="section-number-4">1.6.2</span> Colorized prompt</h4>
<div class="outline-text-4" id="text-1-6-2">
<div class="org-src-container">

<pre class="src src-elisp">(<span class="org-keyword">setq</span> eshell-prompt-function
      (<span class="org-keyword">lambda</span> nil
        (concat
         (propertize (eshell/pwd) 'face '(<span class="org-builtin">:foreground</span> <span class="org-string">"#8787af"</span>))
         (propertize <span class="org-string">"&#10095;"</span> 'face '(<span class="org-builtin">:foreground</span> <span class="org-string">"#f75f5f"</span>))
         (propertize <span class="org-string">"&#10095;"</span> 'face '(<span class="org-builtin">:foreground</span> <span class="org-string">"#ffaf5f"</span>))
         (propertize <span class="org-string">"&#10095;"</span> 'face '(<span class="org-builtin">:foreground</span> <span class="org-string">"#87af5f"</span>))
         (propertize <span class="org-string">"&#8201;"</span> 'face nil))))
</pre>
</div>


<div class="figure">
<p><img src="images/eshell_prompt_setting2.png" alt="eshell_prompt_setting2.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> Change Eshell current directory</h3>
<div class="outline-text-3" id="text-1-7">
<p>
This command can be used in Menus or with helm.
</p>

<div class="org-src-container">

<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eshell-chdir</span> (path)  
  (<span class="org-keyword">with-current-buffer</span> <span class="org-string">"*eshell*"</span>
    (cd path)
    (eshell-emit-prompt)))

(eshell-chdir <span class="org-string">"~/Downloads"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> Change Eshell current directory to current buffer</h3>
<div class="outline-text-3" id="text-1-8">
<p>
Usage: M-x eshell-cwd
</p>

<div class="org-src-container">

<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eshell-cwd</span> ()
  <span class="org-doc">"</span>
<span class="org-doc">  Sets the eshell directory to the current buffer</span>

<span class="org-doc">  Usage: M-x eshell-cwd </span>
<span class="org-doc">  "</span>
  (<span class="org-keyword">interactive</span>)

  (<span class="org-keyword">let</span> (
        (path (file-name-directory (<span class="org-keyword">or</span>  (buffer-file-name) default-directory)))
       )

    (<span class="org-keyword">with-current-buffer</span> <span class="org-string">"*eshell*"</span>
      (cd path)
      (eshell-emit-prompt))))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9"><span class="section-number-3">1.9</span> Open eshell in another window</h3>
<div class="outline-text-3" id="text-1-9">
<p>
Source: <a href="https://gist.github.com/semmypurewal/b7748e0d6785f3c50e46">mini-eshell.el</a>
</p>

<p>
Usage: M-x open-mini-eshell 
</p>

<div class="org-src-container">

<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">open up a mini-eshell</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">quarter-window-vertically</span> ()
  <span class="org-doc">"create a new window a quarter size of the current window"</span>
  (split-window-vertically)
  (other-window 1)
  (split-window-vertically)
  (other-window -1)
  (delete-window)
)

(<span class="org-keyword">defun</span> <span class="org-function-name">open-mini-eshell</span> ()
  <span class="org-doc">"open a mini-eshell in a small window at the bottom of the current window"</span>
  (<span class="org-keyword">interactive</span>)
  (quarter-window-vertically)
  (other-window 1)
  (eshell)
)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-10" class="outline-3">
<h3 id="sec-1-10"><span class="section-number-3">1.10</span> Open eshell in another frame</h3>
<div class="outline-text-3" id="text-1-10">
<p>
Usage: M-x eshell-other-frame 
</p>

<div class="org-src-container">

<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eshell-other-frame</span> ()
  <span class="org-doc">"</span>
<span class="org-doc">  Open eshell in another frame.</span>

<span class="org-doc">  Usage: M-x eshell-other-frame </span>
<span class="org-doc">  "</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">with-selected-frame</span> (make-frame)
    (eshell)))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-11" class="outline-3">
<h3 id="sec-1-11"><span class="section-number-3">1.11</span> Open eshell file names from ls output with Return key</h3>
<div class="outline-text-3" id="text-1-11">
<p>
Source: <a href="https://www.emacswiki.org/emacs/EshellEnhancedLS">Emacs Wiki</a>  
</p>

<p>
This code allows to open files from <code>$ ls</code> command output by selecting
the file name and hitting return or by clicking with the middle mouse
button.
</p>

<div class="org-src-container">

<pre class="src src-elisp">(eval-after-load <span class="org-string">"em-ls"</span>
    '(<span class="org-keyword">progn</span>
       (<span class="org-keyword">defun</span> <span class="org-function-name">ted-eshell-ls-find-file-at-point</span> (point)
         <span class="org-doc">"RET on Eshell's `</span><span class="org-doc"><span class="org-constant">ls</span></span><span class="org-doc">' output to open files."</span>
         (<span class="org-keyword">interactive</span> <span class="org-string">"d"</span>)
         (find-file (buffer-substring-no-properties
                     (previous-single-property-change point 'help-echo)
                     (next-single-property-change point 'help-echo))))

       (<span class="org-keyword">defun</span> <span class="org-function-name">pat-eshell-ls-find-file-at-mouse-click</span> (event)
         <span class="org-doc">"Middle click on Eshell's `</span><span class="org-doc"><span class="org-constant">ls</span></span><span class="org-doc">' output to open files.</span>
<span class="org-doc"> From Patrick Anderson via the wiki."</span>
         (<span class="org-keyword">interactive</span> <span class="org-string">"e"</span>)
         (ted-eshell-ls-find-file-at-point (posn-point (event-end event))))

       (<span class="org-keyword">let</span> ((map (make-sparse-keymap)))
         (define-key map (kbd <span class="org-string">"RET"</span>)      'ted-eshell-ls-find-file-at-point)
         (define-key map (kbd <span class="org-string">"&lt;return&gt;"</span>) 'ted-eshell-ls-find-file-at-point)
         (define-key map (kbd <span class="org-string">"&lt;mouse-2&gt;"</span>) 'pat-eshell-ls-find-file-at-mouse-click)
         (<span class="org-keyword">defvar</span> <span class="org-variable-name">ted-eshell-ls-keymap</span> map))

       (<span class="org-keyword">defadvice</span> <span class="org-function-name">eshell-ls-decorated-name</span> (after ted-electrify-ls activate)
         <span class="org-doc">"Eshell's `</span><span class="org-doc"><span class="org-constant">ls</span></span><span class="org-doc">' now lets you click or RET on file names to open them."</span>
         (add-text-properties 0 (length ad-return-value)
                              (list 'help-echo <span class="org-string">"RET, mouse-2: visit this file"</span>
                                    'mouse-face 'highlight
                                    'keymap ted-eshell-ls-keymap)
                              ad-return-value)
         ad-return-value)))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-12" class="outline-3">
<h3 id="sec-1-12"><span class="section-number-3">1.12</span> Functions to copy eshell data to clipboard</h3>
<div class="outline-text-3" id="text-1-12">
</div><div id="outline-container-sec-1-12-1" class="outline-4">
<h4 id="sec-1-12-1"><span class="section-number-4">1.12.1</span> Copy current directory</h4>
<div class="outline-text-4" id="text-1-12-1">
<div class="org-src-container">

<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">clipboard/set</span> (astring)
  <span class="org-doc">"Copy a string to clipboard"</span>

   (<span class="org-keyword">with-temp-buffer</span>
    (insert astring)
    (clipboard-kill-region (point-min) (point-max))))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Copy current directory to clipboard </span>
<span class="org-comment-delimiter">;;</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Usage:  Enter $ copy-pwd in eshell </span>
<span class="org-comment-delimiter">;;</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">eshell/copy-pwd</span> ()
 (clipboard/set (eshell/pwd)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Copy file name with full path to clipboard </span>
<span class="org-comment-delimiter">;;</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Usage: Enter $ copy-fpath &lt;filename&gt; in eshell. </span>
<span class="org-comment-delimiter">;; </span>
(<span class="org-keyword">defun</span> <span class="org-function-name">eshell/copy-fpath</span> (fname)

  (<span class="org-keyword">let</span> ((fpath (concat (eshell/pwd) <span class="org-string">"/"</span> fname)))

       (clipboard/set fpath)
       (concat <span class="org-string">"Copied path: "</span> fpath)))
</pre>
</div>


<div class="figure">
<p><img src="images/eshell_clipboard.png" alt="eshell_clipboard.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-13" class="outline-3">
<h3 id="sec-1-13"><span class="section-number-3">1.13</span> Creating Eshell aliases programatically</h3>
<div class="outline-text-3" id="text-1-13">
<div class="org-src-container">

<pre class="src src-elisp">(eshell/alias <span class="org-string">"ff"</span> <span class="org-string">"find-file $1"</span>)

(eshell/alias <span class="org-string">"fw"</span> <span class="org-string">"find-file-other-window $1"</span>)

(eshell/alias <span class="org-string">"fr"</span> <span class="org-string">"find-file-other-frame $1"</span>)
</pre>
</div>

<p>
Example of usage:
</p>


<div class="figure">
<p><img src="images/emacs_eshell_alias.png" alt="emacs_eshell_alias.png" />
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2017-10-02 Mon 20:11</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
